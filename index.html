:root {
--primary-color: #1a365d;
--primary-light: #2c5282;
--primary-gradient: linear-gradient(135deg, #1a365d 0%, #2c5282 100%);
--secondary-color: #2d3748;
--secondary-light: #4a5568;
--secondary-gradient: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
--accent-color: #3182ce;
--accent-light: #63b3ed;
--accent-gradient: linear-gradient(135deg, #3182ce 0%, #63b3ed 100%);
--success-color: #38a169;
--success-light: #68d391;
--success-gradient: linear-gradient(135deg, #38a169 0%, #68d391 100%);
--warning-color: #d69e2e;
--warning-light: #f6e05e;
--warning-gradient: linear-gradient(135deg, #d69e2e 0%, #f6e05e 100%);
--info-color: #805ad5;
--info-light: #b794f4;
--info-gradient: linear-gradient(135deg, #805ad5 0%, #b794f4 100%);
--danger-color: #e53e3e;
--danger-light: #fc8181;
--danger-gradient: linear-gradient(135deg, #e53e3e 0%, #fc8181 100%);
--glass-bg: rgba(255, 255, 255, 0.1);
--glass-border: rgba(255, 255, 255, 0.2);
--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
--shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
--shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
--text-primary: #1a202c;
--text-secondary: #2d3748;
--text-muted: #4a5568;
--bg-primary: #ffffff;
--bg-secondary: #f7fafc;
--bg-tertiary: #edf2f7;
--border-color: #e2e8f0;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
background: linear-gradient(135deg, #1a365d 0%, #2c5282 50%, #3182ce 100%);
background-attachment: fixed;
min-height: 100vh;
padding: 20px;
position: relative;
overflow-x: hidden;
}

body::before {
content: '';
position: fixed;
top: 0;
left: 0;
right: 0;
bottom: 0;
background: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.03"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
pointer-events: none;
z-index: 1;
}

.container {
max-width: 1400px;
margin: 0 auto;
position: relative;
z-index: 2;
}

.header {
text-align: center;
margin-bottom: 40px;
position: relative;
}

.header-content {
background: var(--glass-bg);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-radius: 30px;
border: 1px solid var(--glass-border);
padding: 40px;
box-shadow: var(--shadow-2xl);
position: relative;
overflow: hidden;
}

.header-content::before {
content: '';
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
animation: float 20s ease-in-out infinite;
}

@keyframes float {
0%, 100% { transform: translate(0, 0) rotate(0deg); }
33% { transform: translate(30px, -30px) rotate(120deg); }
66% { transform: translate(-20px, 20px) rotate(240deg); }
}

.home-btn {
position: absolute;
left: 30px;
top: 50%;
transform: translateY(-50%);
background: rgba(255, 255, 255, 0.2);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
border: 1px solid rgba(255, 255, 255, 0.3);
color: white;
width: 56px;
height: 56px;
border-radius: 20px;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: var(--shadow-lg);
}

.home-btn:hover {
background: rgba(255, 255, 255, 0.3);
transform: translateY(-50%) scale(1.05);
box-shadow: var(--shadow-xl);
}

.home-btn:active {
transform: translateY(-50%) scale(0.95);
}

.header h1 {
color: white;
font-size: 3.5em;
font-weight: 800;
margin-bottom: 15px;
text-shadow: 0 4px 8px rgba(0,0,0,0.2);
letter-spacing: -1px;
position: relative;
z-index: 1;
}

.header p {
color: rgba(255,255,255,0.9);
font-size: 1.2em;
font-weight: 400;
position: relative;
z-index: 1;
}

.form-container {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-radius: 30px;
padding: 40px;
box-shadow: var(--shadow-2xl);
margin-bottom: 40px;
border: 1px solid rgba(255, 255, 255, 0.3);
position: relative;
overflow: hidden;
}

.form-container::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 4px;
background: var(--primary-gradient);
}

.form-header {
display: flex;
align-items: center;
gap: 20px;
margin-bottom: 35px;
padding-bottom: 25px;
border-bottom: 2px solid rgba(0,0,0,0.05);
}

.form-header h2 {
color: var(--text-primary);
font-size: 1.8em;
font-weight: 700;
margin: 0;
}

.form-icon {
width: 56px;
height: 56px;
background: var(--primary-gradient);
border-radius: 16px;
display: flex;
align-items: center;
justify-content: center;
color: white;
box-shadow: var(--shadow-lg);
}

.form-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 30px;
margin-bottom: 35px;
}

.form-group {
display: flex;
flex-direction: column;
position: relative;
}

label {
font-weight: 600;
color: var(--text-secondary);
margin-bottom: 12px;
font-size: 0.95em;
display: flex;
align-items: center;
gap: 10px;
}

label svg {
width: 20px;
height: 20px;
color: var(--accent-color);
}

input[type="text"],
input[type="file"],
input[type="date"],
textarea,
select {
padding: 16px 20px;
border: 2px solid var(--border-color);
border-radius: 16px;
font-size: 1em;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
font-family: inherit;
background: var(--bg-primary);
}

textarea {
resize: vertical;
min-height: 100px;
}

input[type="text"]:focus,
input[type="date"]:focus,
textarea:focus,
select:focus {
outline: none;
border-color: var(--accent-color);
box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.1);
background: var(--bg-primary);
}

input[type="file"] {
cursor: pointer;
background: rgba(49, 130, 206, 0.05);
}

.button-group {
display: flex;
gap: 20px;
justify-content: center;
flex-wrap: wrap;
}

.action-btn {
display: flex;
align-items: center;
justify-content: center;
gap: 12px;
padding: 18px 36px;
border: none;
border-radius: 16px;
font-size: 1.05em;
font-weight: 600;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
box-shadow: var(--shadow-lg);
position: relative;
overflow: hidden;
}

.action-btn::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
transition: left 0.5s;
}

.action-btn:hover::before {
left: 100%;
}

.action-btn:hover {
transform: translateY(-3px);
box-shadow: var(--shadow-xl);
}

.action-btn:active {
transform: translateY(-1px);
}

.btn-png {
background: var(--danger-gradient);
color: white;
}

.btn-jpg {
background: var(--success-gradient);
color: white;
}

.btn-pdf {
background: var(--info-gradient);
color: white;
}

.btn-edit {
background: var(--warning-gradient);
color: white;
}

.btn-share {
background: var(--accent-gradient);
color: white;
}

.card-preview {
background: rgba(255, 255, 255, 0.95);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-radius: 30px;
padding: 40px;
box-shadow: var(--shadow-2xl);
display: flex;
flex-direction: column;
align-items: center;
border: 1px solid rgba(255, 255, 255, 0.3);
position: relative;
overflow: hidden;
}

.card-preview::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 4px;
background: var(--accent-gradient);
}

.preview-label {
font-size: 1.5em;
font-weight: 700;
color: var(--text-primary);
margin-bottom: 30px;
display: flex;
align-items: center;
gap: 15px;
}

.card-wrapper {
display: flex;
justify-content: center;
overflow-x: auto;
width: 100%;
padding: 20px;
}

#photoCard {
width: 1080px;
height: 1350px;
min-width: 1080px;
min-height: 1350px;
max-width: 1080px;
max-height: 1350px;
position: relative;
overflow: hidden;
box-shadow: var(--shadow-2xl);
border-radius: 20px;
background-color: #8B1F2C;
transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#photoCard:hover {
transform: scale(1.02);
}

.template-layer {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-image: url('template.jpg');
background-size: cover;
background-position: center;
background-repeat: no-repeat;
z-index: 1;
}

.big-photo-layer {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: 2;
display: flex;
align-items: center;
justify-content: center;
overflow: hidden;
}

.big-photo-image {
width: 100%;
height: 100%;
object-fit: cover;
display: block;
position: absolute;
top: 0;
left: 0;
}

.big-photo-placeholder {
color: #8B1F2C;
font-size: 24px;
font-weight: bold;
text-align: center;
z-index: 1;
display: none;
}

.content-wrapper {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: 3;
}

.card-element {
position: absolute;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.photo-container {
width: 361px;
height: 364px;
background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
border-radius: 20px;
overflow: hidden;
display: flex;
align-items: center;
justify-content: center;
box-shadow: var(--shadow-xl);
position: absolute;
z-index: 3;
border: 3px solid rgba(255, 255, 255, 0.3);
}

.photo-container img {
width: 100%;
height: 100%;
object-fit: cover;
}

.photo-placeholder {
color: var(--text-muted);
font-size: 22px;
font-weight: 500;
}

.card-name {
text-align: center;
white-space: pre-wrap;
}

.card-name .name-text {
font-family: 'Space Grotesk', sans-serif;
font-size: 40px;
font-weight: 700;
color: white;
text-shadow: 0 4px 8px rgba(0,0,0,0.3);
margin: 0;
word-wrap: break-word;
white-space: pre-wrap;
}

.card-subtitle {
text-align: center;
}

.card-subtitle .subtitle-text {
font-family: 'Poppins', sans-serif;
font-weight: 500;
color: rgb(86, 235, 102);
text-shadow: 0 4px 8px rgba(0,0,0,0.3);
margin: 0;
font-size: 24.8px;
}

.card-month {
text-align: center;
}

.card-month .month-text {
font-family: 'Poppins', sans-serif;
font-weight: 500;
color: rgb(86, 235, 102);
text-shadow: 0 4px 8px rgba(0,0,0,0.3);
margin: 0;
font-size: 24.8px;
}

.card-year {
text-align: center;
}

.card-year .year-text {
font-family: 'Poppins', sans-serif;
font-weight: 500;
color: rgb(86, 235, 102);
text-shadow: 0 4px 8px rgba(0,0,0,0.3);
margin: 0;
font-size: 24.8px;
}

.card-number {
text-align: center;
}

.card-number .number-text {
font-family: 'Plus Jakarta Sans', sans-serif;
font-weight: 600;
color: white;
text-shadow: 0 4px 8px rgba(0,0,0,0.3);
margin: 0;
}

/* Modal Styles */
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.7);
backdrop-filter: blur(10px);
-webkit-backdrop-filter: blur(10px);
z-index: 1000;
overflow-y: auto;
animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

.modal.active {
display: flex;
align-items: center;
justify-content: flex-start;
padding: 20px;
}

.modal-content {
background: rgba(255, 255, 255, 0.98);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-radius: 30px;
box-shadow: var(--shadow-2xl);
width: 450px;
margin: 20px;
overflow: hidden;
border: 1px solid rgba(255, 255, 255, 0.3);
animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
from { 
opacity: 0;
transform: translateX(-50px);
}
to { 
opacity: 1;
transform: translateX(0);
}
}

.modal-left {
background: var(--bg-secondary);
padding: 40px;
overflow-y: auto;
max-height: 90vh;
}

.modal h2 {
margin-bottom: 30px;
color: var(--text-primary);
font-size: 1.8em;
font-weight: 700;
display: flex;
align-items: center;
gap: 12px;
}

.modal h2::before {
content: 'ðŸŽ¨';
font-size: 1.2em;
}

.edit-section {
margin-bottom: 30px;
padding-bottom: 25px;
border-bottom: 2px solid var(--border-color);
}

.edit-section:last-child {
border-bottom: none;
}

.edit-section h3 {
color: var(--text-primary);
margin-bottom: 20px;
font-size: 1.2em;
font-weight: 600;
display: flex;
align-items: center;
gap: 12px;
}

.edit-control {
margin-bottom: 20px;
}

.edit-control label {
display: block;
margin-bottom: 10px;
color: var(--text-secondary);
font-weight: 600;
font-size: 0.9em;
}

.edit-control input[type="range"],
.edit-control select {
width: 100%;
padding: 12px 16px;
border: 2px solid var(--border-color);
border-radius: 12px;
font-size: 1em;
transition: all 0.3s;
background: var(--bg-primary);
}

.edit-control select {
cursor: pointer;
}

.edit-control select:focus {
outline: none;
border-color: var(--accent-color);
box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.1);
}

.edit-control input[type="range"] {
padding: 0;
height: 8px;
cursor: pointer;
background: linear-gradient(to right, var(--accent-color) 0%, var(--accent-color) var(--value), var(--border-color) var(--value), var(--border-color) 100%);
}

.edit-control input[type="file"] {
width: 100%;
padding: 12px 16px;
border: 2px solid var(--border-color);
border-radius: 12px;
font-size: 1em;
transition: all 0.3s;
cursor: pointer;
background: rgba(49, 130, 206, 0.05);
}

.range-value {
display: inline-block;
margin-left: 10px;
font-weight: 700;
color: var(--accent-color);
background: rgba(49, 130, 206, 0.1);
padding: 4px 12px;
border-radius: 8px;
font-size: 0.9em;
}

.modal-buttons {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 15px;
margin-top: 30px;
}

.modal-btn {
padding: 16px;
border: none;
border-radius: 12px;
font-size: 1.05em;
font-weight: 600;
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
overflow: hidden;
display: flex;
align-items: center;
justify-content: center;
gap: 8px;
}

.modal-btn::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
transition: left 0.5s;
}

.modal-btn:hover::before {
left: 100%;
}

.modal-btn-save {
background: var(--success-gradient);
color: white;
grid-column: span 2;
}

.modal-btn-save:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.modal-btn-cancel {
background: var(--secondary-gradient);
color: white;
}

.modal-btn-cancel:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.modal-btn-undo {
background: var(--info-gradient);
color: white;
}

.modal-btn-undo:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.modal-btn-reset {
background: var(--danger-gradient);
color: white;
}

.modal-btn-reset:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

/* Share Modal */
.share-modal-content {
background: rgba(255, 255, 255, 0.98);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-radius: 30px;
padding: 50px;
max-width: 700px;
width: 90%;
box-shadow: var(--shadow-2xl);
border: 1px solid rgba(255, 255, 255, 0.3);
}

.share-modal-content h2 {
margin-bottom: 20px;
text-align: center;
font-size: 2em;
font-weight: 700;
color: var(--text-primary);
}

.share-modal-content p {
text-align: center;
color: var(--text-muted);
margin-bottom: 40px;
font-size: 1.1em;
}

.share-options {
display: grid;
grid-template-columns: repeat(2, 1fr);
gap: 20px;
margin-bottom: 30px;
}

.share-btn {
display: flex;
align-items: center;
justify-content: center;
gap: 15px;
padding: 20px;
border: 2px solid var(--border-color);
border-radius: 16px;
background: var(--bg-primary);
cursor: pointer;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
font-weight: 600;
color: var(--text-secondary);
box-shadow: var(--shadow-md);
}

.share-btn:hover {
background: var(--primary-gradient);
color: white;
transform: translateY(-3px);
box-shadow: var(--shadow-xl);
}

.share-btn svg {
width: 28px;
height: 28px;
}

.rename-section {
margin-bottom: 30px;
}

.rename-input {
width: 100%;
padding: 16px 20px;
border: 2px solid var(--border-color);
border-radius: 16px;
font-size: 1em;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
font-family: inherit;
background: var(--bg-primary);
margin-bottom: 20px;
}

.rename-input:focus {
outline: none;
border-color: var(--accent-color);
box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.1);
}

@media (max-width: 768px) {
.header h1 {
font-size: 2em;
}

.form-container {
padding: 30px 20px;
}

.button-group {
flex-direction: column;
}

.action-btn {
width: 100%;
}

#photoCard {
transform: scale(0.4);
transform-origin: top center;
}

.modal-content {
width: 100%;
max-width: 100%;
margin: 10px;
}

.modal-left {
padding: 30px 20px;
}

.share-options {
grid-template-columns: 1fr;
}
}

.loading {
display: none;
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: rgba(255, 255, 255, 0.98);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
padding: 40px 60px;
border-radius: 20px;
box-shadow: var(--shadow-2xl);
z-index: 2000;
text-align: center;
border: 1px solid rgba(255, 255, 255, 0.3);
}

.loading.active {
display: block;
animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
from { 
opacity: 0;
transform: translate(-50%, -40%);
}
to { 
opacity: 1;
transform: translate(-50%, -50%);
}
}

.spinner {
border: 4px solid rgba(49, 130, 206, 0.1);
border-top: 4px solid var(--accent-color);
border-radius: 50%;
width: 60px;
height: 60px;
animation: spin 1s linear infinite;
margin: 0 auto 20px;
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.loading p {
color: var(--text-secondary);
font-weight: 600;
font-size: 1.1em;
}
